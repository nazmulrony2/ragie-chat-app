`assistant-ui` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржЖржкржирж╛рж░ ржХрж╛ржЬ ржЕржирзЗржХ рж╕рж╣ржЬ рж╣рзЯрзЗ ржпрж╛ржмрзЗред ржХрж╛рж░ржг ржмрж░рзНрждржорж╛ржирзЗ ржЖржкржирж┐ `Chat.jsx` ржлрж╛ржЗрж▓рзЗ ржХрж╖рзНржЯ ржХрж░рзЗ ржпрж╛ ржпрж╛ рж╣рж╛рждрзЗ рж▓рж┐ржЦржЫрзЗржи (ржпрзЗржоржи: ржорзЗрж╕рзЗржЬ рж▓рж┐рж╕рзНржЯ ржмрж╛ржирж╛ржирзЛ, рж▓рзЛржбрж┐ржВ рж╕рзНржЯрзЗржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛, ржЯрж╛ржЗржкрж┐ржВ ржЗржлрзЗржХрзНржЯ), `assistant-ui` рж╕рзЗржЗ ржХрж╛ржЬржЧрзБрж▓рзЛ ржЕржЯрзЛржорзЗржЯрж┐ржХ ржХрж░рзЗ ржжрзЗрзЯред

рждржмрзЗ `assistant-ui` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рж▓рзЗ ржЖржкржирж╛ржХрзЗ рзйржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмрж┐рж╖рзЯрзЗ ржмрзЗрж╢рж┐ ржЬрзЛрж░ ржжрж┐рждрзЗ рж╣ржмрзЗ ржПржмржВ ржнрж╛рж▓рзЛ ржХрж░рзЗ ржмрзБржЭрждрзЗ рж╣ржмрзЗред ржирж┐ржЪрзЗ рж╕рж╣ржЬ ржХрж░рзЗ ржмрзБржЭрж┐рзЯрзЗ ржмрж▓ржЫрж┐:

### рзз. Runtime (ржорж╕рзНрждрж┐рж╖рзНржХ ржмрж╛ ржХрж╛ржирзЗржХрж╢ржи) - рж╕ржмржЪрзЗрзЯрзЗ ржЬрж░рзБрж░рж┐!

ржмрж░рзНрждржорж╛ржирзЗ ржЖржкржирж┐ `Chat.jsx` ржлрж╛ржЗрж▓рзЗ `handleSubmit` ржлрж╛ржВрж╢ржирзЗрж░ ржнрзЗрждрж░рзЗ `axios.post` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржХржерж╛ ржмрж▓ржЫрзЗржиред

`assistant-ui` рждрзЗ ржПржЗ ржХрж╛ржЬржЯрж╛ ржХрж░рж╛рж░ ржирж┐рзЯржо ржЖрж▓рж╛ржжрж╛ред ржЖржкржирж╛ржХрзЗ **Runtime** ржмрж╛ **Adapter** рж╕ржорзНржкрж░рзНржХрзЗ рж╢рж┐ржЦрждрзЗ рж╣ржмрзЗред

* **ржХрзА рж╢рж┐ржЦржмрзЗржи:** ржХрзАржнрж╛ржмрзЗ `useChatRuntime` ржмрж╛ `useExternalStoreRuntime` рж╣рзБржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рзЯред
* **ржХрзЗржи рж╢рж┐ржЦржмрзЗржи:** `assistant-ui` рж╕рж░рж╛рж╕рж░рж┐ ржЬрж╛ржирзЗ ржирж╛ ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржб ржХрзЛржерж╛рзЯред ржЖржкржирж╛ржХрзЗ ржПржХржЯрж╛ "ржмрзНрж░рж┐ржЬ" ржмрж╛ржирж┐рзЯрзЗ ржжрж┐рждрзЗ рж╣рзЯред ржПржЗ ржмрзНрж░рж┐ржЬржЯрж╛ржЗ рж╣рж▓рзЛ Runtimeред рж╕рзЗ ржЕржЯрзЛржорзЗржЯрж┐ржХ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржмрзЗ ржПржмржВ ржЙрждрзНрждрж░ рж░рж┐рж╕рж┐ржн ржХрж░ржмрзЗред ржЖржкржирж╛ржХрзЗ ржЖрж░ ржХрж╖рзНржЯ ржХрж░рзЗ `setMessages` ржмрж╛ `axios` ржХрж▓ рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗ ржирж╛ред

### рзи. Streaming (ржЯрж╛ржЗржкрж░рж╛ржЗржЯрж╛рж░ ржЗржлрзЗржХрзНржЯ)

ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржХрзЛржбрзЗ ржЙрждрзНрждрж░ ржЖрж╕рж╛рж░ ржЖржЧрзЗ ржПржХржЯрж╛ "рж▓рзЛржбрж┐ржВ ржЪрж╛ржХрж╛" ржШрзЛрж░рзЗ, рждрж╛рж░ржкрж░ ржзржк ржХрж░рзЗ ржкрзБрж░рзЛ ржЙрждрзНрждрж░ржЯрж╛ ржЪрж▓рзЗ ржЖрж╕рзЗред ржХрж┐ржирзНрждрзБ `assistant-ui` ржорзВрж▓ржд **Streaming**-ржПрж░ ржЬржирзНржп ржмрж┐ржЦрзНржпрж╛ржд (ржпрзЗржЦрж╛ржирзЗ ржЪрзНржпрж╛ржЯржЬрж┐ржкрж┐ржЯрж┐рж░ ржорждрзЛ ржПржХржЯрж╛рж░ ржкрж░ ржПржХржЯрж╛ ржЕржХрзНрж╖рж░ ржЯрж╛ржЗржк рж╣рждрзЗ ржерж╛ржХрзЗ)ред

* **ржХрзА рж╢рж┐ржЦржмрзЗржи:** ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржб ржерзЗржХрзЗ ржХрзАржнрж╛ржмрзЗ ржЯрзЗржХрзНрж╕ржЯ рж╕рзНржЯрзНрж░рж┐ржо (Stream) ржЖржХрж╛рж░рзЗ ржкрж╛ржарж╛рждрзЗ рж╣рзЯ ржПржмржВ `assistant-ui` рж╕рзЗржЯрж╛ ржХрзАржнрж╛ржмрзЗ рж░рж┐рж╕рж┐ржн ржХрж░рзЗред
* **ржХрзЗржи рж╢рж┐ржЦржмрзЗржи:** ржЖржкржирж┐ ржпржжрж┐ рж╕рж╛ржзрж╛рж░ржг JSON рж░рзЗрж╕ржкржирзНрж╕ (ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржХрзЛржбрзЗрж░ ржорждрзЛ) ржкрж╛ржарж╛ржи, рждрж╛рж╣рж▓рзЗ `assistant-ui` ржПрж░ ржЕрж░рзНржзрзЗржХ ржоржЬрж╛ржЗ ржкрж╛ржмрзЗржи ржирж╛ред рждрж╛ржЗ "Streaming Response" ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ рж╕рзЗржЯрж╛ ржмрзБржЭрждрзЗ рж╣ржмрзЗред

### рзй. Custom Components & Styling (рж╕рж╛ржЬрж╕ржЬрзНржЬрж╛)

ржмрж░рзНрждржорж╛ржирзЗ ржЖржкржирж┐ `Chat.css` рж▓рж┐ржЦрзЗ ржирж┐ржЬрзЗржЗ ржорзЗрж╕рзЗржЬрзЗрж░ ржмрж╛ржмрж▓ ржмрж╛ рж░ржВ ржарж┐ржХ ржХрж░ржЫрзЗржиред `assistant-ui` рждрзЗ рж░рзЗржбрж┐ржорзЗржб ржбрж┐ржЬрж╛ржЗржи ржжрзЗржУрзЯрж╛ ржерж╛ржХрзЗред

* **ржХрзА рж╢рж┐ржЦржмрзЗржи:** `assistant-ui` ржПрж░ ржбрж┐ржлрж▓рзНржЯ ржбрж┐ржЬрж╛ржЗржи ржХрзАржнрж╛ржмрзЗ ржХрж╛рж╕рзНржЯржорж╛ржЗржЬ ржХрж░рждрзЗ рж╣рзЯред ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ `makeMarkdownText` ржПржмржВ `Avatar` ржХржорзНржкрзЛржирзЗржирзНржЯржЧрзБрж▓рзЛ ржХрзАржнрж╛ржмрзЗ ржирж┐ржЬрзЗрж░ ржорждрзЛ рж╕рж╛ржЬрж╛ржмрзЗржиред
* **ржХрзЗржи рж╢рж┐ржЦржмрзЗржи:** ржЖржкржирж╛рж░ ржХрзНрж▓рж╛рзЯрзЗржирзНржЯ рж╣рзЯрждрзЛ ржЪрж╛ржЗржмрзЗ ржЪрзНржпрж╛ржЯрзЗрж░ рж░ржВ рж▓рж╛рж▓ ржирж╛ рж╣рзЯрзЗ ржирзАрж▓ рж╣рзЛржХ, ржЕржержмрж╛ ржлржирзНржЯ ржЕржирзНржпрж░ржХржо рж╣рзЛржХред рждржЦржи ржЖржкржирж╛ржХрзЗ ржЬрж╛ржирждрзЗ рж╣ржмрзЗ ржХрзАржнрж╛ржмрзЗ ржПрж░ ржмрж┐рж▓рзНржЯ-ржЗржи CSS ржмрж╛ Tailwind ржХрзНрж▓рж╛рж╕ржЧрзБрж▓рзЛ ржУржнрж╛рж░рж░рж╛ржЗржб ржХрж░рждрзЗ рж╣рзЯред

### рзк. RAG ржмрж╛ Source ржжрзЗржЦрж╛ржирзЛ (Tool UI)

ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржХрзЛржбрзЗ ржЙрждрзНрждрж░рзЗрж░ ржирж┐ржЪрзЗ "View Source Chunks" ржирж╛ржорзЗ ржПржХржЯрж╛ ржЕржкрж╢ржи ржЖржЫрзЗред `assistant-ui` рждрзЗ ржПржЯрж╛ржХрзЗ рж╕рж╛ржзрж╛рж░ржгржд **"Tool"** ржмрж╛ **"Attachment"** ржмрж▓рж╛ рж╣рзЯред

* **ржХрзА рж╢рж┐ржЦржмрзЗржи:** AI ржпржЦржи ржЙрждрзНрждрж░рзЗрж░ рж╕рж╛ржерзЗ рж╕рзЛрж░рзНрж╕ ржмрж╛ ржорзЗржЯрж╛ржбрзЗржЯрж╛ ржкрж╛ржарж╛рзЯ, рж╕рзЗржЯрж╛ `assistant-ui` рждрзЗ ржХрзАржнрж╛ржмрзЗ рж╕рзБржирзНржжрж░ ржХрж╛рж░рзНржб ржЖржХрж╛рж░рзЗ ржжрзЗржЦрж╛рждрзЗ рж╣рзЯред рждрж╛ржжрзЗрж░ `Composer` ржПржмржВ `Message` ржХржорзНржкрзЛржирзЗржирзНржЯрзЗрж░ ржнрзЗрждрж░рзЗ ржХрзАржнрж╛ржмрзЗ ржХрж╛рж╕рзНржЯржо ржХржирзНржЯрзЗржирзНржЯ ржврзЛржХрж╛рждрзЗ рж╣рзЯ рж╕рзЗржЯрж╛ рж╢рж┐ржЦрждрзЗ рж╣ржмрзЗред

### рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк: ржЖржкржирж╛рж░ рж▓рж╛рж░рзНржирж┐ржВ ржкрж╛рже

ржЖржкржирж┐ ржпржжрж┐ `assistant-ui` ржжрж┐рзЯрзЗ ржПржЗ ржЕрзНржпрж╛ржкржЯрж╛ ржЖржмрж╛рж░ ржмрж╛ржирж╛рждрзЗ ржЪрж╛ржи, рждржмрзЗ ржПржЗ ржЕрж░рзНржбрж╛рж░рзЗ рж╢рж┐ржЦрзБржи:

рзз. **Runtime ржХрж╛ржирзЗржХрзНржЯ ржХрж░рж╛:** ржХрзАржнрж╛ржмрзЗ `assistant-ui` ржХрзЗ ржЖржкржирж╛рж░ `/api/chat` ржПрж░ рж╕рж╛ржерзЗ ржХрж╛ржирзЗржХрзНржЯ ржХрж░ржмрзЗржиред
рзи. **UI ржмрж╕рж╛ржирзЛ:** `<Thread />` ржХржорзНржкрзЛржирзЗржирзНржЯ ржжрж┐рзЯрзЗ ржХрзАржнрж╛ржмрзЗ ржкрзБрж░рзЛ ржЪрзНржпрж╛ржЯ рж╕рзНржХрзНрж░рж┐ржиржЯрж╛ ржжрзЗржЦрж╛ржмрзЗржиред
рзй. **RAG рж╕рзЛрж░рзНрж╕ ржжрзЗржЦрж╛ржирзЛ:** ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржб ржерзЗржХрзЗ ржЖрж╕рж╛ "Chunks" ржЧрзБрж▓рзЛржХрзЗ ржХрзАржнрж╛ржмрзЗ `assistant-ui` ржПрж░ ржорзЗрж╕рзЗржЬрзЗрж░ ржирж┐ржЪрзЗ рж╕рзБржирзНржжрж░ ржХрж░рзЗ ржжрзЗржЦрж╛ржмрзЗржиред

ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи `Chat.jsx` ржлрж╛ржЗрж▓ржЯрж╛ рждржЦржи ржЧрж╛рзЯрзЗржм рж╣рзЯрзЗ ржпрж╛ржмрзЗ, рждрж╛рж░ ржмржжрж▓рзЗ ржЖрж╕ржмрзЗ ржЫрзЛржЯрзНржЯ ржПржмржВ ржХрзНрж▓рж┐ржи ржХрзЛржб!

===============================================================================

`assistant-ui` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЕрзНржпрж╛ржк ржмрж╛ржирж╛рж▓рзЗ ржЖржкржирж╛рж░ ржХрзЛржб рж▓рзЗржЦрж╛рж░ ржзрж░ржг ржкрзБрж░рзЛ ржкрж╛рж▓рзНржЯрзЗ ржпрж╛ржмрзЗред ржЖржорж░рж╛ ржПрждржХрзНрж╖ржг ржпрзЗ `Chat.jsx` ржирж┐рзЯрзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░рж▓рж╛ржо (ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ рж╣рж╛рждрзЗ ржзрж░рзЗ рж╕ржм ржХрж░ржЫрзЗржи), рждрж╛рж░ рж╕рж╛ржерзЗ `assistant-ui`-ржПрж░ ржкрж╛рж░рзНржержХрзНржпржЯрж╛ ржмрзБржЭрж▓рзЗ ржЖржкржирж╛рж░ рж╢рзЗржЦрж╛ ржЕржирзЗржХ рж╕рж╣ржЬ рж╣ржмрзЗред

ржЖржорж┐ рзйржЯрж┐ ржкрзНрж░ржзрж╛ржи ржкрж╛рж░рзНржержХрзНржпрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж╛ржХрзЗ ржЖрж░ржУ ржХрж┐ржЫрзБ ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб ржирж▓рзЗржЬ ржжрж┐ржЪрзНржЫрж┐ред

### рзз. рж╕рзНржЯрзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ: ржорзНржпрж╛ржирзБрзЯрж╛рж▓ ржмржирж╛ржо ржЕржЯрзЛржорзЗржЯрж┐ржХ (State Management)

**ржкрзБрж░рж╛рждржи ржкржжрзНржзрждрж┐ (ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржХрзЛржб):**
ржЖржкржирж┐ `useState` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ `messages` ржирж╛ржорзЗ ржПржХржЯрж╛ ржбрж╛рзЯрзЗрж░рж┐ ржорзЗржЗржиржЯрзЗржЗржи ржХрж░ржЫрзЗржиред

```javascript
// ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржХрзЛржб
const [messages, setMessages] = useState([]); 

// ржирждрзБржи ржорзЗрж╕рзЗржЬ ржЖрж╕рж▓рзЗ ржЖржкржирж┐ ржирж┐ржЬрзЗржЗ рж╕рзЗржЯрж╛ ржбрж╛рзЯрзЗрж░рж┐рждрзЗ рж▓рзЗржЦрзЗржи
setMessages(prev => [...prev, newMessage]);

```

ржПржЦрж╛ржирзЗ ржЖржкржирж┐ ржирж┐ржЬрзЗржЗ ржорзНржпрж╛ржирзЗржЬрж╛рж░ред ржорзЗрж╕рзЗржЬ ржЕрзНржпрж╛ржб ржХрж░рж╛, рж▓рзЛржбрж┐ржВ ржжрзЗржЦрж╛ржирзЛтАФрж╕ржм ржЖржкржирж╛ржХрзЗ рж╣рж╛рждрзЗ ржХрж░рждрзЗ рж╣рзЯред

**Assistant-UI ржкржжрзНржзрждрж┐:**
ржПржЦрж╛ржирзЗ ржЖржкржирж╛ржХрзЗ ржХрзЛржирзЛ рж╕рзНржЯрзЗржЯ ржмрж╛ржирж╛рждрзЗ рж╣ржмрзЗ ржирж╛ред `assistant-ui` ржирж┐ржЬрзЗржЗ ржПржХржЯрж╛ "Runtime" ржмрж╛ ржЗржЮрзНржЬрж┐ржи ржирж┐рзЯрзЗ ржЖрж╕рзЗред

```javascript
// assistant-ui рж╕рзНржЯрж╛ржЗрж▓
import { useChatRuntime } from "@assistant-ui/react";

const runtime = useChatRuntime({
  api: "/api/chat", // рж╢рзБржзрзБ ржмрж▓рзЗ ржжрж┐ржи ржмрзНржпрж╛ржХржПржирзНржб ржХрзЛржерж╛рзЯ
});

```

**ржкрж╛рж░рзНржержХрзНржп:** `assistant-ui` рж╣рж▓рзЛ ржЕржЯрзЛржорзЗржЯрж┐ржХ ржЧрж┐рзЯрж╛рж░рзЗрж░ ржЧрж╛рзЬрж┐рж░ ржорждрзЛред ржЖржкржирж┐ рж╢рзБржзрзБ рж╕рзНржЯрж┐рзЯрж╛рж░рж┐ржВ ржзрж░ржмрзЗржи (API рж▓рж┐ржВржХ ржжрзЗржмрзЗржи), ржЧрж┐рзЯрж╛рж░ ржмржжрж▓рж╛ржирзЛрж░ (State Update) ржХрж╛ржЬ рж╕рзЗ ржирж┐ржЬрзЗржЗ ржХрж░ржмрзЗред

### рзи. ржЕрзНржпрж╛ржбрж╛ржкрзНржЯрж╛рж░ ржкрзНржпрж╛ржЯрж╛рж░рзНржи (The Adapter Pattern)

ржПржЯрж╛ `assistant-ui` ржПрж░ рж╕ржмржЪрзЗрзЯрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХржирж╕рзЗржкрзНржЯред

ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржХрзЛржбрзЗ `handleSubmit` ржлрж╛ржВрж╢ржи ржЖржЫрзЗ ржпрж╛ `axios.post` ржХрж▓ ржХрж░рзЗред `assistant-ui` рждрзЗ ржЖржорж░рж╛ ржлрж╛ржВрж╢ржи рж▓рж┐ржЦрж┐ ржирж╛, ржЖржорж░рж╛ **Adapter** рж▓рж┐ржЦрж┐ред

**рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ ржЕрзНржпрж╛ржбрж╛ржкрзНржЯрж╛рж░ ржХрзА?**
ржзрж░рзБржи ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржб ржХржерж╛ ржмрж▓рзЗ "рж╣рж┐ржирзНржжрж┐"рждрзЗ (JSON format), ржЖрж░ `assistant-ui` ржмрзЛржЭрзЗ "ржЗржВрж░рзЗржЬрж┐" (Stream format)ред ржорж╛ржЭржЦрж╛ржирзЗ ржПржХржЬржи ржжрзЛржнрж╛рж╖рзА ржжрж░ржХрж╛рж░тАФржПржЯрж╛ржЗ ржЕрзНржпрж╛ржбрж╛ржкрзНржЯрж╛рж░ред

ржЖржкржирж╛ржХрзЗ рж╢рж┐ржЦрждрзЗ рж╣ржмрзЗ ржХрзАржнрж╛ржмрзЗ ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржбрзЗрж░ рж░рзЗрж╕ржкржирзНрж╕ржЯрж╛ржХрзЗ `assistant-ui` ржПрж░ ржорждрзЛ ржХрж░рзЗ рж╕рж╛ржЬрж┐рзЯрзЗ ржжрж┐рждрзЗ рж╣рзЯред

**ржЙржжрж╛рж╣рж░ржг (ржХржирж╕рзЗржкрзНржЯ):**

```javascript
const myAdapter = {
  // ржпржЦржи ржЗржЙржЬрж╛рж░ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржмрзЗ
  async onNew(message) {
    // рзз. ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржбрзЗ ржХрж▓ ржжрж┐ржи
    const response = await axios.post('/api/chat', { query: message.content });
    
    // рзи. рж░рзЗрж╕ржкржирзНрж╕ржЯрж╛ assistant-ui ржХрзЗ ржмрзБржЭрж┐рзЯрзЗ ржжрж┐ржи
    return {
      content: [{ type: "text", text: response.data.answer }],
    };
  },
};

```

**Learning Point:** ржЖржкржирж╛ржХрзЗ рж╢рж┐ржЦрждрзЗ рж╣ржмрзЗ `assistant-ui` ржХрзЛржи ржлрж░ржорзНржпрж╛ржЯрзЗ ржбрзЗржЯрж╛ ржЪрж╛рзЯред рж╕рж╛ржзрж╛рж░ржгржд рждрж╛рж░рж╛ ржЪрж╛рзЯ: `{ content: [ ... ] }`ред

### рзй. RAG ржПрж░ рж╕рзЛрж░рзНрж╕ ржжрзЗржЦрж╛ржирзЛ (Custom Components)

ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржЕрзНржпрж╛ржкрзЗ `renderChunk` ржлрж╛ржВрж╢ржи ржжрж┐рзЯрзЗ ржЖржкржирж┐ `chunks` ржмрж╛ рж╕рзЛрж░рзНрж╕ ржжрзЗржЦрж╛ржЪрзНржЫрзЗржиред `assistant-ui` рждрзЗ ржПржЯрж╛ржХрзЗ ржмрж▓рж╛ рж╣рзЯ **Custom UI Component**ред

`assistant-ui` ржПрж░ ржорзЗрж╕рзЗржЬ ржмрж╛ржмрж▓ржЧрзБрж▓рзЛ ржжрзЗржЦрждрзЗ ржЦрзБржм рж╕рзБржирзНржжрж░ред ржХрж┐ржирзНрждрзБ ржЖржкржирж┐ ржпржжрж┐ рж╕рзЗржЗ ржмрж╛ржмрж▓рзЗрж░ ржнрзЗрждрж░рзЗ ржмрж╛ ржирж┐ржЪрзЗ ржЖржкржирж╛рж░ ржкрж┐ржбрж┐ржПржл ржлрж╛ржЗрж▓рзЗрж░ ржирж╛ржо (Source) ржжрзЗржЦрж╛рждрзЗ ржЪрж╛ржи, рждржмрзЗ ржЖржкржирж╛ржХрзЗ **"Slot"** ржмрж╛ **"Components"** рж░рж┐ржкрзНрж▓рзЗрж╕ ржХрж░рж╛ рж╢рж┐ржЦрждрзЗ рж╣ржмрзЗред

**ржмрж┐рж╖рзЯржЯрж╛ ржЕржирзЗржХржЯрж╛ ржПрж░ржХржо:**
`assistant-ui` ржЖржкржирж╛ржХрзЗ ржмрж▓ржмрзЗ: *"ржЖржорж┐ ржЯрзЗржХрзНрж╕ржЯ ржжрзЗржЦрж╛ржирзЛрж░ ржжрж╛рзЯрж┐рждрзНржм ржирж┐рж▓рж╛ржоред ржХрж┐ржирзНрждрзБ рждрзБржорж┐ ржпржжрж┐ ржПржХрзНрж╕ржЯрзНрж░рж╛ ржХрж┐ржЫрзБ (ржпрзЗржоржи: PDF Source) ржжрзЗржЦрж╛рждрзЗ ржЪрж╛ржУ, рждржмрзЗ ржЖржорж╛ржХрзЗ рж╕рзЗржЗ ржбрж┐ржЬрж╛ржЗржирзЗрж░ ржХрзЛржбржЯрж╛ ржжрж╛ржУред"*

ржЖржкржирж╛ржХрзЗ рж╢рж┐ржЦрждрзЗ рж╣ржмрзЗ:

* `<Thread.Message />` ржПрж░ ржнрзЗрждрж░рзЗ ржХрзАржнрж╛ржмрзЗ ржХрж╛рж╕рзНржЯржо ржХржирзНржЯрзЗржирзНржЯ ржврзЛржХрж╛ржирзЛ ржпрж╛рзЯред
* ржХрзАржнрж╛ржмрзЗ `Text` ржПрж░ ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ `Source` ржмрж╛ `Tool` рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред

### рзк. рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ (Streaming) - рж╕ржмржЪрзЗрзЯрзЗ ржмрзЬ ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ

ржПржЯрж╛ ржЖржкржирж╛рж░ ржЬржирзНржп ржПржХржЯрзБ ржирждрзБржи рж╣рждрзЗ ржкрж╛рж░рзЗред

* **Non-Streaming (ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржмрзНржпрж╛ржХржПржирзНржб):** ржЗржЙржЬрж╛рж░ ржкрзНрж░рж╢рзНржи ржХрж░рзЗ -> рзл рж╕рзЗржХрзЗржирзНржб ржЕржкрзЗржХрзНрж╖рж╛ -> ржзржк ржХрж░рзЗ ржкрзБрж░рзЛ ржЙрждрзНрждрж░ ржЪрж▓рзЗ ржЖрж╕рзЗред
* **Streaming (Assistant-UI ржПрж░ ржкржЫржирзНржж):** ржЗржЙржЬрж╛рж░ ржкрзНрж░рж╢рзНржи ржХрж░рзЗ -> рзз рж╕рзЗржХрзЗржирзНржб ржкрж░ -> ржЯрж╛ржЗржкрж░рж╛ржЗржЯрж╛рж░рзЗрж░ ржорждрзЛ ржЙрждрзНрждрж░ рж▓рзЗржЦрж╛ рж╢рзБрж░рзБ рж╣рзЯ (ржЯрзБржХржЯрзБржХ ржХрж░рзЗ)ред

ржпрзЗрж╣рзЗрждрзБ `assistant-ui` рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржкржЫржирзНржж ржХрж░рзЗ, рждрж╛ржЗ ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржЕрзНржпрж╛ржк ржЕржирзЗржХ ржлрж╛рж╕рзНржЯ ржоржирзЗ рж╣рзЯред ржХрж┐ржирзНрждрзБ ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржмрзНржпрж╛ржХржПржирзНржб (`ragie-chat-app`) ржпржжрж┐ рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ рж╕рж╛ржкрзЛрж░рзНржЯ ржирж╛ ржХрж░рзЗ, рждржмрзЗ `assistant-ui` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржоржирзЗ рж╣ржмрзЗ ржЕрзНржпрж╛ржк ржПржХржЯрзБ ржЖржЯржХрзЗ ржЖржЫрзЗред

**ржкрж░рж╛ржорж░рзНрж╢:** ржЖржкржирж┐ ржпржЦржи `assistant-ui` рж╢рж┐ржЦржмрзЗржи, рждржЦржи ржжрзЗржЦржмрзЗржи рждрж╛рж░рж╛ **Vercel AI SDK** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржмрж▓ржЫрзЗред ржПржЯрж╛ рж╢рзЗржЦрж╛ ржЖржкржирж╛рж░ ржЬржирзНржп ржЦрзБржм ржнрж╛рж▓рзЛ рж╣ржмрзЗ ржХрж╛рж░ржг ржПржЯрж╛ ржмрзНржпрж╛ржХржПржирзНржб ржПржмржВ ржлрзНрж░ржирзНржЯрзЗржирзНржбрзЗрж░ ржХрж╛ржирзЗржХрж╢ржи ржкрж╛ржирж┐рж░ ржорждрзЛ рж╕рж╣ржЬ ржХрж░рзЗ ржжрзЗрзЯред

### ржЖржкржирж╛рж░ ржЬржирзНржп ржкрж░ржмрж░рзНрждрзА ржХрж░ржгрзАржпрж╝ (Action Plan)

ржпржжрж┐ ржЖржкржирж┐ `assistant-ui` ржжрж┐рзЯрзЗ ржПржЗ ржЕрзНржпрж╛ржкржЯрж┐ ржмрж╛ржирж╛рждрзЗ ржЪрж╛ржи, рждржмрзЗ ржПржЗ рзйржЯрж┐ рж╢ржмрзНржж ржжрж┐рзЯрзЗ ржЧрзБржЧрж▓рзЗ ржмрж╛ рждрж╛ржжрзЗрж░ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржирзЗ ржЦрзБржБржЬрзБржи:

1. **"assistant-ui custom runtime"**: ржпрзЗрж╣рзЗрждрзБ ржЖржкржирж╛рж░ ржирж┐ржЬрзЗрж░ ржмрзНржпрж╛ржХржПржирзНржб ржЖржЫрзЗ, рждрж╛ржЗ ржмрж┐рж▓рзНржЯ-ржЗржи ржЪрзНржпрж╛ржЯржЬрж┐ржкрж┐ржЯрж┐ ржХрж╛ржирзЗржХрж╢ржи ржЖржкржирж╛рж░ ржХрж╛ржЬрзЗ рж▓рж╛ржЧржмрзЗ ржирж╛ред ржХрж╛рж╕рзНржЯржо рж░рж╛ржиржЯрж╛ржЗржо рж▓рж╛ржЧржмрзЗред
2. **"assistant-ui style customization"**: ржХрзАржнрж╛ржмрзЗ рж░ржЩ ржПржмржВ ржлржирзНржЯ ржмржжрж▓рж╛ржмрзЗржиред
3. **"Vercel AI SDK with Express"**: ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржбрзЗ ржХрзАржнрж╛ржмрзЗ рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржЪрж╛рж▓рзБ ржХрж░ржмрзЗржиред

ржПржЧрзБрж▓рзЛ ржмрзБржЭрж▓рзЗ ржЖржкржирж┐ рж╕рж╛ржзрж╛рж░ржг ржЪрзНржпрж╛ржЯ ржЕрзНржпрж╛ржк ржерзЗржХрзЗ ржкрзНрж░ржлрзЗрж╢ржирж╛рж▓ AI ржЕрзНржпрж╛ржк ржмрж╛ржирж╛ржирзЛрж░ рж▓рзЗржнрзЗрж▓рзЗ ржЪрж▓рзЗ ржпрж╛ржмрзЗржи!

=============================================================================================================

`assistant-ui` ржПржмржВ `Vercel AI SDK` ржПржХрж╕рж╛ржерзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржЖржкржирж╛рж░ **рзирзжрзж рж▓рж╛ржЗржирзЗрж░ ржХрзЛржб ржХржорзЗ ржорж╛рждрзНрж░ рзирзж-рзйрзж рж▓рж╛ржЗржирзЗ** ржирзЗржорзЗ ржЖрж╕ржмрзЗ! ЁЯШ▓

ржХрж╛рж░ржг `Chat.jsx`-ржП ржЖржкржирж┐ ржпрзЗрж╕ржм рж▓ржЬрж┐ржХ рж╣рж╛рждрзЗ рж▓рж┐ржЦржЫрж┐рж▓рзЗржи (State, Loading, Error, API Call), рж╕рзЗржЗ рж╕ржм ржХрж╛ржЬ `Vercel AI SDK` ржЕржЯрзЛржорзЗржЯрж┐ржХ ржХрж░рзЗ ржжрзЗрзЯред ржЖрж░ ржбрж┐ржЬрж╛ржЗржирзЗрж░ ржХрж╛ржЬржЯрж╛ `assistant-ui` ржХрж░рзЗ ржжрзЗрзЯред

ржирж┐ржЪрзЗ ржжрзЗржЦрзБржи **"Total Code"** ржжрзЗржЦрждрзЗ ржХрзЗржоржи рж╣ржмрзЗ:

### рзз. ржирждрзБржи ржкрзНржпрж╛ржХрзЗржЬ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛

ржкрзНрж░ржержорзЗ ржПржЗ рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ржЧрзБрж▓рзЛ ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ рж╣ржмрзЗ:

```bash
npm install ai @assistant-ui/react @assistant-ui/react-ai-sdk @assistant-ui/react-markdown

```

---

### рзи. Frontend Code (`Chat.jsx`) - ржорж╛рждрзНрж░ рзирзж рж▓рж╛ржЗржи!

ржЖржЧрзЗ ржЖржкржирж╛рж░ `Chat.jsx` ржЫрж┐рж▓ ржкрзНрж░рж╛рзЯ рзирзжрзж рж▓рж╛ржЗржирзЗрж░ред ржПржЦржи рж╕рзЗржЯрж╛ ржжрзЗржЦрждрзЗ ржПржоржи рж╣ржмрзЗ:

```javascript
import React from 'react';
import { useChat } from 'ai/react'; // Vercel AI SDK (ржорж╕рзНрждрж┐рж╖рзНржХ)
import { Thread } from '@assistant-ui/react'; // Assistant UI (ржЪрзЗрж╣рж╛рж░рж╛)
import { useVercelUseChatRuntime } from '@assistant-ui/react-ai-sdk'; // ржХрж╛ржирзЗржХрзНржЯрж░
import { makeMarkdownText } from '@assistant-ui/react-markdown'; // ржорж╛рж░рзНржХржбрж╛ржЙржи рж╕рж╛ржкрзЛрж░рзНржЯ

// ржЯрзЗржХрзНрж╕ржЯ рж╕рзБржирзНржжрж░ ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржп
const MarkdownText = makeMarkdownText();

export default function Chat() {
  // рзз. Vercel AI SDK рж╣рзБржХ (рж╕рзНржЯрзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯрзЗрж░ ржжрж░ржХрж╛рж░ ржирзЗржЗ)
  const chat = useChat({
    api: '/api/chat', // ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржбрзЗрж░ ржарж┐ржХрж╛ржирж╛
  });

  // рзи. Assistant UI ржПрж░ рж╕рж╛ржерзЗ ржХрж╛ржирзЗржХрзНржЯ ржХрж░рж╛
  const runtime = useVercelUseChatRuntime(chat);

  // рзй. рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛ (ржЖрж░ ржХрзЛржирзЛ map рж▓рзБржк ржмрж╛ div ржжрж░ржХрж╛рж░ ржирзЗржЗ)
  return (
    <div className="h-full w-full border rounded-lg overflow-hidden bg-white">
      <Thread 
        runtime={runtime} 
        assistantMessage={{ components: { Text: MarkdownText } }}
      />
    </div>
  );
}

```

**ржкрж╛рж░рзНржержХрзНржп ржжрзЗржЦрзБржи:**

* **ржирж╛ржЗ:** `useState`, `useEffect`, `axios`, `handleSubmit`, `loading` рж╕рзНржЯрзЗржЯред
* **ржирж╛ржЗ:** `messages.map(...)` рж▓рзБржк ржХрж░рзЗ ржорзЗрж╕рзЗржЬ ржжрзЗржЦрж╛ржирзЛрж░ ржЭрж╛ржорзЗрж▓рж╛ред
* **ржЖржЫрзЗ:** рж╢рзБржзрзБ `useChat` (рж▓ржЬрж┐ржХрзЗрж░ ржЬржирзНржп) ржЖрж░ `<Thread />` (ржбрж┐ржЬрж╛ржЗржирзЗрж░ ржЬржирзНржп)ред

---

### рзй. Backend Code (Server.js / Route) - рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ рж╕рж╣

ржпрзЗрж╣рзЗрждрзБ ржлрзНрж░ржирзНржЯрзЗржирзНржб ржПржЦржи ржЕржирзЗржХ рж╕рзНржорж╛рж░рзНржЯ, рждрж╛ржЗ ржмрзНржпрж╛ржХржПржирзНржбржХрзЗ ржПржХржЯрзБ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ рж╕рзЗ **Stream** (ржЯрж╛ржЗржкрж░рж╛ржЗржЯрж╛рж░ ржЗржлрзЗржХрзНржЯ) ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рзЗред

ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХржПржирзНржбрзЗ `ai` ржПржмржВ `@ai-sdk/openai` ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ рж╣ржмрзЗред

```javascript
import { openai } from '@ai-sdk/openai';
import { streamText } from 'ai';

// ржЖржкржирж╛рж░ ржЪрзНржпрж╛ржЯ рж░рж╛ржЙржЯ (Express.js)
app.post('/api/chat', async (req, res) => {
  const { messages } = req.body; // ржлрзНрж░ржирзНржЯрзЗржирзНржб ржЕржЯрзЛржорзЗржЯрж┐ржХ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржмрзЗ

  // рзз. рж╢рзЗрж╖рзЗрж░ ржкрзНрж░рж╢рзНржиржЯрж╛ ржирзЗржУрзЯрж╛
  const lastMessage = messages[messages.length - 1];

  // рзи. RAG: ржПржЦрж╛ржирзЗ ржЖржкржирж╛рж░ ржбржХрзБржорзЗржирзНржЯ рж╕рж╛рж░рзНржЪ ржХрж░рж╛рж░ ржХрзЛржб ржерж╛ржХржмрзЗ (ржЖржЧрзЗрж░ ржорждрзЛржЗ)
  const context = await searchMyDocuments(lastMessage.content); 

  // рзй. AI-ржХрзЗ ржжрж┐рзЯрзЗ ржЙрждрзНрждрж░ ржмрж▓рж╛ржирзЛ (Streaming)
  const result = await streamText({
    model: openai('gpt-4-turbo'),
    system: `You are a helpful assistant. Use this context: ${context}`,
    messages,
  });

  // рзк. ржкрж╛ржЗржк ржжрж┐рзЯрзЗ ржЙрждрзНрждрж░ ржлрзНрж░ржирзНржЯрзЗржирзНржбрзЗ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗржУрзЯрж╛
  result.pipeDataStreamToResponse(res);
});

```

---

### ржмрж╛ржВрж▓рж╛рзЯ ржмрзНржпрж╛ржЦрзНржпрж╛ (ржХрзЗржи ржПржЯрж╛ ржПржд ржЫрзЛржЯ?)

рзз. **ржбрзНрж░рж╛ржЗржнрж╛рж░ (Vercel AI SDK - `useChat`):**
ржЖржЧрзЗ ржЖржкржирж┐ ржирж┐ржЬрзЗржЗ ржЧрж╛рзЬрж┐ ржЪрж╛рж▓рж╛рждрзЗржи (axios ржжрж┐рзЯрзЗ ржХрж▓ ржХрж░рждрзЗржи, рж╕рзНржЯрзЗржЯ ржЖржкржбрзЗржЯ ржХрж░рждрзЗржи)ред ржПржЦржи `useChat` рж╣рж▓рзЛ ржЖржкржирж╛рж░ ржбрзНрж░рж╛ржЗржнрж╛рж░ред рж╕рзЗ ржЬрж╛ржирзЗ ржХржЦржи рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржХрж▓ ржжрж┐рждрзЗ рж╣ржмрзЗ, ржорзЗрж╕рзЗржЬ рж▓рж┐рж╕рзНржЯ ржХрзАржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗред

рзи. **ржЗржЮрзНржЬрж┐ржи (Runtime):**
`useVercelUseChatRuntime` рж╣рж▓рзЛ ржЗржЮрзНржЬрж┐ржирзЗрж░ ржорждрзЛред рж╕рзЗ ржбрзНрж░рж╛ржЗржнрж╛рж░рзЗрж░ (`useChat`) ржХржерж╛ рж╢рзБржирзЗ ржЧрж╛рзЬрж┐рж░ ржЪрж╛ржХрж╛ (`assistant-ui`) ржШрзЛрж░рж╛рзЯред

рзй. **ржЧрж╛рзЬрж┐рж░ ржмржбрж┐ (Assistant UI - `<Thread />`):**
ржЖржЧрзЗ ржЖржкржирж┐ ржЪрж╛ржХрж╛, рж╕рж┐ржЯ, ржЧрзНрж▓рж╛рж╕ рж╕ржм рж╣рж╛рждрзЗ ржмрж╛ржирж╛рждрзЗржи (HTML/CSS)ред ржПржЦржи `<Thread />` рж╣рж▓рзЛ рж░рзЗржбрж┐ржорзЗржб ржлрзЗрж░рж╛рж░рж┐ ржЧрж╛рзЬрж┐ред ржЖржкржирж┐ рж╢рзБржзрзБ рж╕рзНржЯрж╛рж░рзНржЯ ржжрзЗржмрзЗржиред

### рж╕рзБржмрж┐ржзрж╛ ржХрзА ржкрж╛ржмрзЗржи?

1. **ржЯрж╛ржЗржкрж░рж╛ржЗржЯрж╛рж░ ржЗржлрзЗржХрзНржЯ:** ржХрзЛржб ржирж╛ рж▓рж┐ржЦрзЗржЗ ржЪрзНржпрж╛ржЯржЬрж┐ржкрж┐ржЯрж┐рж░ ржорждрзЛ рж╕рзНржорзБрже ржЯрзЗржХрзНрж╕ржЯ ржЖрж╕ржмрзЗред
2. **ржХржкрж┐/ржкрзЗрж╕рзНржЯ ржмрж╛ржЯржи:** ржорзЗрж╕рзЗржЬрзЗрж░ ржкрж╛рж╢рзЗ ржХржкрж┐ ржмрж╛ржЯржи ржЕржЯрзЛржорзЗржЯрж┐ржХ ржЪрж▓рзЗ ржЖрж╕ржмрзЗред
3. **ржПржбрж┐ржЯ ржХрж░рж╛:** ржЗржЙржЬрж╛рж░ ржЪрж╛ржЗрж▓рзЗ рждрж╛рж░ ржкрж╛ржарж╛ржирзЛ ржорзЗрж╕рзЗржЬ ржПржбрж┐ржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ, ржПржЯрж╛ `assistant-ui` ржЕржЯрзЛ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзЗред
4. **ржХрзНрж▓рж┐ржи ржХрзЛржб:** рзирзжрзж рж▓рж╛ржЗржи ржХржорзЗ рзирзж рж▓рж╛ржЗржи рж╣ржУрзЯрж╛рзЯ ржХрзЛржб ржорзЗржЗржиржЯрзЗржЗржи ржХрж░рж╛ ржкрж╛ржирж┐рж░ ржорждрзЛ рж╕рж╣ржЬ рж╣рзЯрзЗ ржпрж╛ржмрзЗред

ржЖржкржирж╛рж░ ржХрж┐ ржоржирзЗ рж╣рзЯ ржПржЗ ржирждрзБржи рж╕рж┐рж╕рзНржЯрзЗржорзЗ рж╢рж┐ржлржЯ ржХрж░рж╛ ржЖржкржирж╛рж░ ржЬржирзНржп ржнрж╛рж▓рзЛ рж╣ржмрзЗ?


==================================================================================================================

